(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{458:function(t,e,n){"use strict";e.a=[{text:"臺北市",value:"Taipei"},{text:"新北市",value:"NewTaipei"},{text:"桃園市",value:"Taoyuan"},{text:"臺中市",value:"Taichung"},{text:"臺南市",value:"Tainan"},{text:"高雄市",value:"Kaohsiung"},{text:"基隆市",value:"Keelung"},{text:"新竹市",value:"Hsinchu"},{text:"新竹縣",value:"HsinchuCounty"},{text:"苗栗縣",value:"MiaoliCounty"},{text:"彰化縣",value:"ChanghuaCounty"},{text:"南投縣",value:"NantouCounty"},{text:"雲林縣",value:"YunlinCounty"},{text:"嘉義縣",value:"ChiayiCounty"},{text:"嘉義市",value:"Chiayi"},{text:"屏東縣",value:"PingtungCounty"},{text:"宜蘭縣",value:"YilanCounty"},{text:"花蓮縣",value:"HualienCounty"},{text:"臺東縣",value:"TaitungCounty"},{text:"金門縣",value:"KinmenCounty"},{text:"澎湖縣",value:"PenghuCounty"},{text:"連江縣",value:"LienchiangCounty"}]},459:function(t,e){let n=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,i=new RegExp("^"+n.source+"(\\s"+n.source+"){1,}");const o=t=>{function e(t){return t.join(" ")}function n(t){return t.map(e).join(", ")}function i(t){return t.map(n).map(s).join(", ")}function r(t){return t.map(i).map(s).join(", ")}function s(t){return"("+t+")"}"Feature"===t.type&&(t=t.geometry);let a=t;switch(a.type){case"Point":return a.coordinates&&3===a.coordinates.length?"POINT Z ("+e(a.coordinates)+")":"POINT ("+e(a.coordinates)+")";case"LineString":return a.coordinates&&a.coordinates[0]&&3===a.coordinates[0].length?"LINESTRING Z ("+n(a.coordinates)+")":"LINESTRING ("+n(a.coordinates)+")";case"Polygon":return a.coordinates&&a.coordinates[0]&&a.coordinates[0][0]&&3===a.coordinates[0][0].length?"POLYGON Z ("+i(a.coordinates)+")":"POLYGON ("+i(a.coordinates)+")";case"MultiPoint":return a.coordinates&&a.coordinates[0]&&3===a.coordinates[0].length?"MULTIPOINT Z ("+n(a.coordinates)+")":"MULTIPOINT ("+n(a.coordinates)+")";case"MultiLineString":return a.coordinates&&a.coordinates[0]&&a.coordinates[0][0]&&3===a.coordinates[0][0].length?"MULTILINESTRING Z ("+i(a.coordinates)+")":"MULTILINESTRING ("+i(a.coordinates)+")";case"MultiPolygon":return a.coordinates&&a.coordinates[0]&&a.coordinates[0][0]&&a.coordinates[0][0]&&3===a.coordinates[0][0][0].length?"MULTIPOLYGON Z ("+r(a.coordinates)+")":"MULTIPOLYGON ("+r(a.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+a.geometries.map(o).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}};t.exports={parse:t=>{let e=t.split(";"),n=e.pop(),o=(e.shift()||"").split("=").pop(),r=0;function s(t){let e=n.substring(r).match(t);return e?(r+=e[0].length,e[0]):null}function a(){s(/^\s*/)}function l(){a();let t,e=0,n=[],o=[n],r=n;for(;t=s(/^(\()/)||s(/^(\))/)||s(/^(,)/)||s(i);){if("("===t)o.push(r),r=[],o[o.length-1].push(r),e++;else if(")"===t){if(0===r.length)return null;if(r=o.pop(),!r)return null;if(e--,0===e)break}else if(","===t)r=[],o[o.length-1].push(r);else{if(t.split(/\s/g).some(isNaN))return null;Array.prototype.push.apply(r,t.split(/\s/g).map(parseFloat))}a()}return 0!==e?null:n}function c(){let t,e,n=[];for(;e=s(i)||s(/^(,)/);)","===e?(n.push(t),t=[]):e.split(/\s/g).some(isNaN)||(t||(t=[]),Array.prototype.push.apply(t,e.split(/\s/g).map(parseFloat))),a();return t?(n.push(t),n.length?n:null):null}function u(){return function(){if(!s(/^(point(\sz)?)/i))return null;if(a(),!s(/^(\()/))return null;let t=c();return t?(a(),s(/^(\))/)?{type:"Point",coordinates:t[0]}:null):null}()||function(){if(!s(/^(linestring(\sz)?)/i))return null;if(a(),!s(/^(\()/))return null;let t=c();return t&&s(/^(\))/)?{type:"LineString",coordinates:t}:null}()||function(){if(!s(/^(polygon(\sz)?)/i))return null;a();let t=l();return t?{type:"Polygon",coordinates:t}:null}()||function(){if(!s(/^(multipoint(\sz)?)/i))return null;a();let t=n.substring(n.indexOf("(")+1,n.length-1).replace(/\(/g,"").replace(/\)/g,"");n="MULTIPOINT ("+t+")";let e=l();return e?(a(),{type:"MultiPoint",coordinates:e}):null}()||function(){if(!s(/^(multilinestring(\sz)?)/i))return null;a();let t=l();return t?(a(),{type:"MultiLineString",coordinates:t}):null}()||function(){if(!s(/^(multipolygon(\sz)?)/i))return null;a();let t=l();return t?{type:"MultiPolygon",coordinates:t}:null}()||function(){let t,e=[];if(!s(/^(geometrycollection)/i))return null;if(a(),!s(/^(\()/))return null;for(;t=u();)e.push(t),a(),s(/^(,)/),a();return s(/^(\))/)?{type:"GeometryCollection",geometries:e}:null}()}return(p=u())&&o.match(/\d+/)&&(p.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+o}}),p;var p},stringify:o}},473:function(t,e,n){},474:function(t,e,n){},498:function(t,e,n){"use strict";n(473)},499:function(t,e,n){"use strict";n(474)},501:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"attractions d-flex justify-end h-100 pointer-events-none pa-1"},[n("div",{staticClass:"pb-12"},[n("div",{staticClass:"attractionsBox w-100 pointer-events-auto d-flex flex-column",class:{"h-70 h-md-100":t.menu&&t.searched}},[n("div",{staticClass:"header pa-2 d-flex align-center"},[n("div",{staticClass:"flex-1 text-bold text-body-1 text-center mx-2"},[t._v("周圍景點列表")]),t._v(" "),n("v-btn",{staticClass:"btn",attrs:{color:"#078080","x-small":"",depressed:""},on:{click:function(e){t.menu=!t.menu}}},[t.menu?[n("v-icon",[t._v("mdi-chevron-up")])]:[n("v-icon",[t._v("mdi-chevron-down")])]],2)],1),t._v(" "),t.menu?n("div",{staticClass:"content d-flex flex-md-column flex-1"},[n("div",{staticClass:"searchCondition pa-2 flex-1 flex-md-none"},[n("div",{staticClass:"d-flex justify-end mt-2"},[n("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:t.search_click}},[t._v("搜尋")])],1)]),t._v(" "),t.searched?n("div",{staticClass:"searchResults flex-3"},[t.searchList.length?t._l(t.searchList,(function(t){return n("Card01",{key:t.ID,attrs:{item:t}})})):[n("div",{staticClass:"d-flex justify-center pa-4"},[t._v("無搜尋結果")])]],2):t._e()]):t._e()])])])};i._withStripped=!0;var o=n(456),r=n.n(o),s=(n(458),n(144),n(143)),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item?n("v-card",{staticClass:"d-flex flex-column pa-3 ma-4 min-w-400",attrs:{flat:""}},[n("div",{staticClass:"pic ph-180 w-100 mb-2 min-h-300",style:{backgroundImage:"url("+t.chooseone(t.item.Picture.PictureUrl1,t.placeholder)+")"},attrs:{title:t.chooseone(t.item.Picture.PictureDescription1,"無提供照片")}}),t._v(" "),n("v-card-title",{staticClass:"pa-0 mb-2 align-start mt-2"},[n("div",{staticClass:"title text-body-1 text-bold",attrs:{title:t.item.Name}},[t._v(t._s(t.item.Name))])]),t._v(" "),n("v-card-text",{staticClass:"pa-0 mb-2"},[n("div",{staticClass:"d-flex mb-2"},[n("div",{staticClass:"anchorIcon mr-2"}),t._v(" "),n("div",{staticClass:"zipCode"},[t._v(t._s(t.item.ZipCodeChinese))])]),t._v(" "),n("div",[n("div",{staticClass:"flex-1 text-bold text-body-2 text-center description",class:{short:!t.menu}},[t._v("\n        "+t._s(t.item.DescriptionDetail)+"\n      ")]),t._v(" "),n("div",{staticClass:"d-flex justify-center"},[n("v-btn",{staticClass:"btn",attrs:{"x-small":"",depressed:"",color:"transparent"},on:{click:function(e){t.menu=!t.menu}}},[t.menu?[n("v-icon",[t._v("mdi-chevron-up")])]:[n("v-icon",[t._v("mdi-chevron-down")])]],2)],1)])])],1):t._e()};a._withStripped=!0;var l=n.p+"img/placeholder.cb0c2617d5f355158a445a6905e5118c.jpg",c={mixins:[s.a],components:{},props:{item:{type:Object,default:null}},data:function(){return{menu:!1,placeholder:l}},mounted:function(){},methods:{},computed:{}},u=(n(498),n(142)),p=Object(u.a)(c,a,[],!1,null,"73aa6eed",null);p.options.__file="src/vue/pages/components/Card01.vue";var d=p.exports,f=n(457);n(459);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={mixins:[s.a],components:{Card01:d},props:{center:{type:[Array,Object],default:null}},watch:{},data:function(){return{menu:!0,searchList:[],searched:!1}},mounted:function(){},beforeDestroy:function(){},methods:{search_click:function(){var t=this,e=this.getAuthorizationHeader(),n={$top:30,$orderby:"SrcUpdateTime asc",$format:"JSON",$spatialFilter:"nearby(".concat(this.center.lat,", ").concat(this.center.lng,",3000)"),$filter:"ZipCode ne null or City ne null"};Object(f.o)("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/",{headers:m({},e)}).get().query(n).then((function(e){t.searched=!0,t.searchList=e.map((function(e){var n;return m(m({},e),{},{ZipCodeChinese:null!==(n=t.zipCodeToChinese(e.ZipCode))&&void 0!==n?n:e.City,latlng:[e.Position.PositionLat,e.Position.PositionLon]})})),console.log(e),t.$emit("info",t,"scenicspot",t.searchList)}))}},computed:{}},y=(n(499),Object(u.a)(h,i,[],!1,null,"790735af",null));y.options.__file="src/vue/pages/Attractions.vue";e.default=y.exports}}]);