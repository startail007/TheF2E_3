(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{461:function(t,e,a){},474:function(t,e,a){"use strict";a(461)},479:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-sheet",{staticClass:"content",class:{bgBlur:t.bgBlur}},[a("Header"),t._v(" "),a("v-main",{staticClass:"main min-h-800"},[a("v-sheet",{staticClass:"section d-flex justify-center align-center pa-2 pa-md-4",attrs:{id:"section01"}},[a("v-responsive",{staticClass:"box d-flex justify-center align-center max-h-491 pa-2 pa-md-4",attrs:{"aspect-ratio":1226/491}},[a("div",{staticClass:"boxContent d-flex align-center flex-column"},[a("v-responsive",{staticClass:"centerLogo",attrs:{"aspect-ratio":487/69}}),t._v(" "),a("div",{staticClass:"my-2 align-self-start text-body-2 white--text"},[t._v("台北、台中、台南、屏東、宜蘭……遊遍台灣")]),t._v(" "),a("div",{staticClass:"d-flex align-center w-100 my-1"},[a("v-text-field",{staticClass:"flex-1",attrs:{label:"搜尋關鍵字",solo:"",dense:"","hide-details":""},on:{change:t.search_change},model:{value:t.temp_search,callback:function(e){t.temp_search=e},expression:"temp_search"}})],1),t._v(" "),a("div",{staticClass:"d-flex align-center w-100 my-1"},[a("v-select",{staticClass:"flex-1 mr-2",attrs:{items:t.typeInfo.items,label:"類別",solo:"",dense:"","hide-details":""},on:{change:t.typeInfo_change},model:{value:t.typeInfo.value,callback:function(e){t.$set(t.typeInfo,"value",e)},expression:"typeInfo.value"}}),t._v(" "),a("v-select",{staticClass:"flex-1",attrs:{items:t.cityInfo.items,label:"不分縣市",solo:"",dense:"","hide-details":"",disabled:""==t.typeInfo.value},on:{change:t.cityInfo_change},model:{value:t.cityInfo.value,callback:function(e){t.$set(t.cityInfo,"value",e)},expression:"cityInfo.value"}})],1)],1)])],1),t._v(" "),a("v-sheet",{staticClass:"section d-flex justify-center align-center flex-column pb-8",attrs:{id:"section02"}},[a("div",{staticClass:"w-100 mb-4",attrs:{id:"card_shadow01"}}),t._v(" "),t.search?a("div",{staticClass:"text_search text-h6 text-bold"},[t._v("搜尋關鍵字 - "+t._s(t.search))]):t._e()]),t._v(" "),""==t.typeInfo.value?a("v-sheet",{staticClass:"section d-flex justify-center align-center flex-column pb-8",attrs:{id:"section03"}},[a("v-container",{staticClass:"mb-8",attrs:{id:"section03_1"}},[a("div",{staticClass:"mb-4 title d-flex align-center"},[a("div",{staticClass:"icon mr-2"}),t._v(" "),a("div",{staticClass:"text-h6 text-bold"},[t._v("熱門美食")])]),t._v(" "),a("div",[a("div",{staticClass:"row items"},t._l(t.data.delicacy.slice(0,t.delicacyCount),(function(t){return a("div",{key:t.ID,staticClass:"col-n1 col-sm-n2 col-md-n3 col-lg-n4 col-xl-n5 item mb-4"},[a("Card02",{attrs:{item:t}})],1)})),0)])]),t._v(" "),a("v-container",{staticClass:"mb-8",attrs:{id:"section03_2"}},[a("div",{staticClass:"mb-4 title d-flex align-center"},[a("div",{staticClass:"icon mr-2"}),t._v(" "),a("div",{staticClass:"text-h6 text-bold"},[t._v("推薦住宿")])]),t._v(" "),a("div",[a("div",{staticClass:"row items"},t._l(t.data.stay.slice(0,t.stayCount),(function(t){return a("div",{key:t.ID,staticClass:"col-n1 col-sm-n2 col-md-n3 col-lg-n4 col-xl-n5 item mb-4"},[a("Card02",{attrs:{item:t}})],1)})),0)])])],1):t._e(),t._v(" "),"delicacy"==t.typeInfo.value?a("v-sheet",{staticClass:"section d-flex justify-center align-center flex-column pb-8",attrs:{id:"section03"}},[a("v-container",{staticClass:"mb-8",attrs:{id:"section03_1"}},[a("div",{staticClass:"mb-4 title d-flex align-center"},[a("div",{staticClass:"icon mr-2"}),t._v(" "),a("div",{staticClass:"text-h6 text-bold"},[t._v("美食 - "+t._s(t.itemsFindValue(t.cityInfo.items,t.cityInfo.value).text))])]),t._v(" "),a("div",[a("div",{staticClass:"row items"},t._l(t.data.delicacy.slice((t.delicacy.pageIndex-1)*t.delicacy.pageItemMax,(t.delicacy.pageIndex-1)*t.delicacy.pageItemMax+t.delicacy.pageItemMax),(function(t){return a("div",{key:t.ID,staticClass:"col-n1 col-sm-n2 col-md-n3 col-lg-n4 col-xl-n5 item mb-4"},[a("Card02",{attrs:{item:t}})],1)})),0),t._v(" "),t.delicacy.pageTotal?a("div",{staticClass:"mt-8"},[a("v-pagination",{attrs:{length:t.delicacy.pageTotal,"total-visible":7},model:{value:t.delicacy.pageIndex,callback:function(e){t.$set(t.delicacy,"pageIndex",e)},expression:"delicacy.pageIndex"}})],1):t._e()])])],1):"stay"==t.typeInfo.value?a("v-sheet",{staticClass:"section d-flex justify-center align-center flex-column pb-8",attrs:{id:"section03"}},[a("v-container",{staticClass:"mb-8",attrs:{id:"section03_2"}},[a("div",{staticClass:"mb-4 title d-flex align-center"},[a("div",{staticClass:"icon mr-2"}),t._v(" "),a("div",{staticClass:"text-h6 text-bold"},[t._v("住宿 - "+t._s(t.itemsFindValue(t.cityInfo.items,t.cityInfo.value).text))])]),t._v(" "),a("div",[a("div",{staticClass:"row items"},t._l(t.data.stay.slice((t.stay.pageIndex-1)*t.stay.pageItemMax,(t.stay.pageIndex-1)*t.stay.pageItemMax+t.stay.pageItemMax),(function(t){return a("div",{key:t.ID,staticClass:"col-n1 col-sm-n2 col-md-n3 col-lg-n4 col-xl-n5 item mb-4"},[a("Card02",{attrs:{item:t}})],1)})),0),t._v(" "),t.stay.pageTotal?a("div",{staticClass:"mt-8"},[a("v-pagination",{attrs:{length:t.stay.pageTotal,"total-visible":7},model:{value:t.stay.pageIndex,callback:function(e){t.$set(t.stay,"pageIndex",e)},expression:"stay.pageIndex"}})],1):t._e()])])],1):t._e()],1),t._v(" "),a("Footer")],1)};s._withStripped=!0;var c=a(448),i=a.n(c),n=a(454),l=a.n(n),o=a(449),r=a(450),d=a(464),u=a(465),v=a(459),p=a(446);function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var y={mixins:[a(447).a],components:{Header:o.a,Footer:r.a,Card01:d.a,Card02:u.a},data:function(){return{temp_search:"",search:"",typeInfo:{value:"",items:[{text:"全部",value:""},{text:"美食",value:"delicacy"},{text:"住宿",value:"stay"}]},cityInfo:{value:"",items:[{text:"不分縣市",value:""}].concat(l()(v.a))},placeholder:p.a,data:{delicacy:[],stay:[]},bgBlur:!1,delicacy:{pageItemMax:10,pageIndex:1,pageTotal:1},stay:{pageItemMax:20,pageIndex:1,pageTotal:1}}},watch:{},mounted:function(){this.updateData()},methods:{updateData:function(){var t=this,e=this.getAuthorizationHeader(),a=this.cityInfo.value,s=this.typeInfo.value,c=this.search;if(""!=a&&(a="/"+a),""==s||"delicacy"==s){var i={orderby:"SrcUpdateTime asc",format:"JSON"};""==s&&(i.top=10),""!=c&&(i.filter="contains(Name,'".concat(c,"') or contains(Address,'").concat(c,"')")),fetch("https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant".concat(a,"?").concat(this.parameterToStr(i)),{headers:m({},e)}).then((function(t){return t.json()})).then((function(e){t.data.delicacy=e,""!=t.typeInfo.value&&(t.delicacy.pageIndex=1,t.delicacy.pageTotal=Math.ceil(t.data.delicacy.length/t.delicacy.pageItemMax))}))}if(""==s||"stay"==s){var n={orderby:"SrcUpdateTime asc",format:"JSON"};""==s&&(n.top=10),""!=c&&(n.filter="contains(Name,'".concat(c,"') or contains(Address,'").concat(c,"')")),fetch("https://ptx.transportdata.tw/MOTC/v2/Tourism/Hotel".concat(a,"?").concat(this.parameterToStr(n)),{headers:m({},e)}).then((function(t){return t.json()})).then((function(e){t.data.stay=e,""!=t.typeInfo.value&&(t.stay.pageIndex=1,t.stay.pageTotal=Math.ceil(t.data.stay.length/t.stay.pageItemMax))}))}},search_change:function(){this.search=this.temp_search,this.updateData()},search_click:function(){this.search=this.temp_search,this.updateData()},coordinate_click:function(){alert("尚未開放功能")},typeInfo_change:function(t){""==this.typeInfo.value&&(this.cityInfo.value=""),this.updateData()},cityInfo_change:function(t){this.updateData()},delicacyDialog_display:function(t){this.bgBlur=t}},computed:{delicacyCount:function(){switch(this.$vuetify.breakpoint.name){case"xs":return 4;case"sm":return 6;case"md":return 9;case"lg":return 8;case"xl":return 10}},stayCount:function(){switch(this.$vuetify.breakpoint.name){case"xs":return 4;case"sm":return 6;case"md":return 9;case"lg":return 8;case"xl":return 10}}}},h=(a(474),a(140)),x=Object(h.a)(y,s,[],!1,null,"8958f8b4",null);x.options.__file="src/vue/pages/Stay.vue";e.default=x.exports}}]);